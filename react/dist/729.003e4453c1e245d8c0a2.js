"use strict";(self.webpackChunkcomplex_react_app=self.webpackChunkcomplex_react_app||[]).push([[729],{4729:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var l=a(6540),s=a(569),n=a(7767),c=a(4976),r=a(2505),o=a.n(r),m=a(149),u=a(6419),i=a(9744),d=a(2953),p=a(343),f=a(6306);const h=function(e){const t=(0,n.Zp)(),a=(0,l.useContext)(p.A),r=(0,l.useContext)(f.A),{id:h}=(0,n.g)(),[E,w]=(0,l.useState)(!0),[y,N]=(0,l.useState)();if((0,l.useEffect)((()=>{const e=o().CancelToken.source();return async function(){try{const t=await o().get(`/post/${h}`,{cancelToken:e.token});N(t.data),w(!1)}catch(e){console.log("There was a problem or the request was cancelled.")}}(),()=>{e.cancel()}}),[h]),!E&&!y)return l.createElement(d.A,null);if(E)return l.createElement(s.A,{title:"..."},l.createElement(m.A,null));const g=new Date(y.createdDate),b=`${g.getMonth()+1}/${g.getDate()}/${g.getFullYear()}`;return l.createElement(s.A,{title:y.title},l.createElement("div",{className:"d-flex justify-content-between"},l.createElement("h2",null,y.title),!!a.loggedIn&&a.user.username==y.author.username&&l.createElement("span",{className:"pt-2"},l.createElement(c.N_,{to:`/post/${y._id}/edit`,"data-tip":"Edit","data-for":"edit",className:"text-primary mr-2"},l.createElement("i",{className:"fas fa-edit"})),l.createElement(i.A,{id:"edit",className:"custom-tooltip"})," ",l.createElement("a",{onClick:async function(){if(window.confirm("Do you really want to delete this post?"))try{"Success"==(await o().delete(`/post/${h}`,{data:{token:a.user.token}})).data&&(r({type:"flashMessage",value:"Post was successfully deleted."}),t(`/profile/${a.user.username}`))}catch(e){console.log("There was a problem.")}},"data-tip":"Delete","data-for":"delete",className:"delete-post-button text-danger"},l.createElement("i",{className:"fas fa-trash"})),l.createElement(i.A,{id:"delete",className:"custom-tooltip"}))),l.createElement("p",{className:"text-muted small mb-4"},l.createElement(c.N_,{to:`/profile/${y.author.username}`},l.createElement("img",{className:"avatar-tiny",src:y.author.avatar})),"Posted by ",l.createElement(c.N_,{to:`/profile/${y.author.username}`},y.author.username)," on ",b),l.createElement("div",{className:"body-content"},l.createElement(u.$,{children:y.body,allowedElements:["p","br","strong","em","h1","h2","h3","h4","h5","h6","ul","ol","li"]})))}}}]);